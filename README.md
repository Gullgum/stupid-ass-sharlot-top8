this is some of the worst javascript ive ever written